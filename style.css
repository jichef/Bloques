:root { 
  --ui-bg: #ffffffcc; 
  --strip-h: 48px; /* un pelín más alta, opcional */
}

/* === Lienzo: deja hueco REAL para la franja === */
#container { 
  position: fixed; 
  top: 0; left: 0; right: 0; 
  bottom: calc(var(--strip-h) + env(safe-area-inset-bottom, 0px));
}

/* === Franja inferior fija (independiente del panel) === */
#details-strip{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  height: calc(var(--strip-h) + env(safe-area-inset-bottom, 0px));
  padding: 0 14px;
  padding-bottom: env(safe-area-inset-bottom, 0px);
  display: flex; align-items: center; gap: 10px;
  background: rgba(255,255,255,0.96);
  border-top: 1px solid #e5e5e5;
  font-family: 'Escolar', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: 18px; line-height: 1.3; color: #1f2340;
  z-index: 12; cursor: pointer; user-select: none;
}

/* === Contenedor del panel: que empiece por ENCIMA de la franja === */
#panel-wrap {
  position: fixed; left: 0; right: 0; 
  bottom: var(--strip-h);  /* <-- antes era 0 */
  z-index: 20;
}

/* === Panel: oculto del todo cuando está cerrado === */
#panel { 
  max-height: 40vh; overflow: auto;
  background: rgba(255,255,255,0.96);
  border-top: 1px solid #e5e5e5;
  padding: 10px 14px;
  transform: translateY(100%);          /* <-- en lugar de calc(100% - var(--strip-h)) */
  transition: transform .25s ease;
  pointer-events: none;
}
#panel.open {
  transform: translateY(0%);            /* abre hasta chocar con la franja */
  pointer-events: auto;
}